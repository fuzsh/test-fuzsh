<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>macrocity - in pixel we trust</title>
<link href="https://fonts.googleapis.com/css2?family=Silkscreen:wght@400;700&family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg-outer: #9e8e7e;
    --bg-inner: #4a4a4a;
    --header-tan: #c4a882;
    --bar-brown: #8b7355;
    --bar-brown-light: #a08060;
    --text-white: #e0e0e0;
    --text-gray: #999;
    --text-cyan: #7ec8e3;
    --text-yellow: #d4b060;
    --accent-red: #c0392b;
    --card-bg: #3a3a3a;
    --card-border: #666;
    --pixel-font: 'Silkscreen', 'Press Start 2P', monospace;
  }

  body {
    background: var(--bg-outer);
    font-family: var(--pixel-font);
    display: flex;
    justify-content: center;
    padding: 10px 0;
    min-height: 100vh;
    image-rendering: pixelated;
  }

  .page-wrapper {
    width: 800px;
    background: var(--bg-inner);
    border: 1px solid #333;
    position: relative;
    min-height: 700px;
  }

  /* === HEADER === */
  .header {
    background: linear-gradient(180deg, #d4b88c 0%, #c4a878 50%, #b89868 100%);
    padding: 12px 20px 8px;
    position: relative;
    min-height: 90px;
    border-bottom: 2px solid #8a7050;
  }

  .header-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    position: relative;
  }

  .logo {
    font-family: var(--pixel-font);
    font-size: 22px;
    color: var(--accent-red);
    letter-spacing: 2px;
    text-shadow: 1px 1px 0 #333;
    line-height: 1;
    margin-top: 10px;
    cursor: pointer;
    text-decoration: none;
    display: block;
  }

  .logo:hover { color: #e04a3b; }

  .speech-bubble-area {
    position: absolute;
    left: 50%;
    top: 0;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .speech-bubble {
    background: #e8e8e8;
    border: 2px solid #888;
    padding: 4px 10px;
    font-size: 9px;
    color: #333;
    text-align: center;
    line-height: 1.4;
    position: relative;
    border-radius: 2px;
  }

  .speech-bubble::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 8px solid #888;
  }

  .speech-bubble::before {
    content: '';
    position: absolute;
    bottom: -6px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 7px solid #e8e8e8;
    z-index: 1;
  }

  .pixel-character { margin-top: 10px; width: 32px; height: 48px; }

  .tagline-area { text-align: right; margin-top: 10px; }
  .tagline { font-size: 10px; color: #6a5a4a; font-style: italic; letter-spacing: 1px; }
  .server-icon { width: 40px; height: 50px; margin-left: auto; display: block; }

  /* === NAV === */
  .nav {
    background: #3a3a3a;
    padding: 0;
    border-bottom: 2px solid #555;
    display: flex;
    align-items: stretch;
  }

  .nav a {
    color: var(--text-gray);
    text-decoration: none;
    font-size: 10px;
    font-family: var(--pixel-font);
    padding: 10px 16px;
    transition: all 0.15s;
    border-right: 1px solid #555;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .nav a:hover {
    color: var(--text-white);
    background: #505050;
  }

  .nav a.active {
    color: var(--text-white);
    background: var(--bar-brown);
    border-bottom: 2px solid var(--text-yellow);
    margin-bottom: -2px;
  }

  .nav-spacer { flex: 1; }

  /* === PAGES === */
  .page { display: none; padding: 0; }
  .page.active { display: block; }

  /* === ABOUT PAGE === */
  .about-interview-bar {
    display: flex;
    align-items: stretch;
    margin: 12px 20px 0;
    height: 42px;
  }

  .about-interview-avatar {
    width: 50px; height: 42px; background: #8b6050;
    border: 1px solid #666; overflow: hidden; flex-shrink: 0;
  }

  .about-interview-avatar canvas { width: 100%; height: 100%; }

  .about-interview-label {
    background: linear-gradient(180deg, #7a6a5a, #6a5a4a);
    padding: 4px 12px; display: flex; flex-direction: column;
    justify-content: center; flex: 1; border: 1px solid #555; border-left: none;
  }

  .about-interview-label .label-top { font-size: 8px; color: #bbb; text-decoration: underline; letter-spacing: 1px; }
  .about-interview-label .label-name { font-size: 11px; color: #fff; margin-top: 2px; }
  .about-interview-icon { width: 24px; display: flex; align-items: center; justify-content: center; color: #ccc; font-size: 16px; }

  .about-interview-right {
    background: linear-gradient(180deg, #8b7a65, #7a6955);
    border: 1px solid #555; margin-left: 10px; padding: 4px 12px;
    display: flex; align-items: center; flex: 0.6;
  }

  .about-interview-right-dots { display: flex; gap: 3px; }
  .about-interview-right-dots span { width: 4px; height: 4px; background: #aaa; display: inline-block; }

  .about-main-content { display: flex; padding: 12px 20px; gap: 20px; }

  .building-scene { flex-shrink: 0; width: 260px; height: 300px; }
  .building-scene canvas { width: 100%; height: 100%; image-rendering: pixelated; }

  .about-text-section {
    flex: 1; max-height: 300px; overflow-y: auto; padding-right: 6px; padding-top: 5px;
  }

  .about-text-section::-webkit-scrollbar { width: 10px; }
  .about-text-section::-webkit-scrollbar-track { background: #3a3a3a; border: 1px solid #555; }
  .about-text-section::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #8b7355, #6a5a4a); border: 1px solid #555; }
  .about-text-section { scrollbar-width: thin; scrollbar-color: #8b7355 #3a3a3a; }

  .about-greeting { font-size: 14px; color: var(--text-cyan); margin-bottom: 10px; }

  .about-bio { font-size: 8px; color: #bbb; line-height: 1.8; margin-bottom: 12px; }
  .about-bio .hl { color: var(--text-cyan); }
  .about-bio .hl-y { color: var(--text-yellow); }
  .about-bio .hl-w { color: #fff; }

  .about-tag {
    display: inline-block; background: #555; color: var(--text-cyan);
    font-size: 7px; padding: 3px 8px; margin: 2px 4px 2px 0; border: 1px solid #666;
  }

  .about-links { margin-top: 14px; display: flex; gap: 8px; flex-wrap: wrap; }

  .about-link-btn {
    background: linear-gradient(180deg, #7a6a5a, #5a4a3a);
    border: 1px solid #888; color: var(--text-white);
    font-family: var(--pixel-font); font-size: 8px;
    padding: 6px 12px; cursor: pointer; text-decoration: none; transition: all 0.15s;
  }

  .about-link-btn:hover { background: linear-gradient(180deg, #8b7a6a, #6a5a4a); color: var(--text-yellow); }

  /* === STREET SCENE === */
  .street-scene { width: 100%; height: 220px; position: relative; overflow: hidden; margin-top: 5px; }
  .street-scene canvas { width: 100%; height: 100%; image-rendering: pixelated; }
  .bottom-text { padding: 8px 20px; font-size: 8px; color: #aaa; font-family: var(--pixel-font); line-height: 1.6; }

  /* === PUBLICATIONS PAGE === */
  .pub-container { display: flex; min-height: 480px; }

  .pub-sidebar {
    width: 220px; background: #3a3a3a; border-right: 2px solid #555;
    padding: 16px; flex-shrink: 0;
  }

  .pub-sidebar-title { font-size: 11px; color: var(--text-yellow); margin-bottom: 10px; border-bottom: 1px solid #555; padding-bottom: 6px; }
  .pub-sidebar-text { font-size: 8px; color: #bbb; line-height: 1.8; margin-bottom: 12px; }
  .pub-filter-label { font-size: 8px; color: var(--text-cyan); margin-top: 12px; margin-bottom: 6px; }

  .pub-filter-btn {
    display: block; width: 100%; background: #505050; border: 1px solid #666;
    color: var(--text-white); font-family: var(--pixel-font); font-size: 8px;
    padding: 6px 10px; cursor: pointer; margin-bottom: 4px; text-align: left; transition: all 0.15s;
  }

  .pub-filter-btn:hover, .pub-filter-btn.active { background: var(--bar-brown); color: var(--text-yellow); }

  .pub-stats { margin-top: 16px; padding-top: 10px; border-top: 1px solid #555; }
  .pub-stat-item { display: flex; justify-content: space-between; font-size: 8px; color: #999; margin-bottom: 4px; }
  .pub-stat-item .val { color: var(--text-white); }

  .pub-grid-area { flex: 1; padding: 16px; overflow-y: auto; max-height: 520px; }
  .pub-grid-area::-webkit-scrollbar { width: 10px; }
  .pub-grid-area::-webkit-scrollbar-track { background: #3a3a3a; border: 1px solid #555; }
  .pub-grid-area::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #8b7355, #6a5a4a); border: 1px solid #555; }
  .pub-grid-area { scrollbar-width: thin; scrollbar-color: #8b7355 #3a3a3a; }

  .pub-grid-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
  .pub-grid-title { font-size: 10px; color: var(--text-white); }
  .pub-grid-tabs { display: flex; gap: 2px; }

  .pub-grid-tab {
    background: #505050; border: 1px solid #666; color: var(--text-gray);
    font-family: var(--pixel-font); font-size: 7px; padding: 4px 10px; cursor: pointer; transition: all 0.15s;
  }

  .pub-grid-tab:hover, .pub-grid-tab.active { background: var(--bar-brown); color: var(--text-white); }

  .pub-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

  .pub-card {
    background: var(--card-bg); border: 2px solid var(--card-border);
    overflow: hidden; transition: all 0.2s; cursor: pointer; position: relative;
  }

  .pub-card:hover { border-color: var(--text-cyan); transform: translateY(-2px); }

  .pub-card-preview { height: 120px; position: relative; overflow: hidden; }
  .pub-card-preview canvas { width: 100%; height: 100%; image-rendering: pixelated; }

  .pub-card-badge {
    position: absolute; top: 6px; right: 6px; background: var(--accent-red);
    color: #fff; font-size: 7px; font-family: var(--pixel-font); padding: 2px 6px; z-index: 2;
  }

  .pub-card-badge.accepted { background: #2d8a4e; }
  .pub-card-badge.review { background: #b8860b; }
  .pub-card-badge.preprint { background: #6a5acd; }

  .pub-card-info {
    padding: 8px 10px; border-top: 2px solid #555;
    background: linear-gradient(180deg, #444, #3a3a3a);
  }

  .pub-card-title {
    font-size: 8px; color: var(--text-white); line-height: 1.5; margin-bottom: 4px;
    display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
  }

  .pub-card-venue { font-size: 7px; color: var(--text-cyan); margin-bottom: 6px; }

  .pub-card-footer { display: flex; justify-content: space-between; align-items: center; }
  .pub-card-year { font-size: 7px; color: #888; }

  .pub-card-btn {
    background: linear-gradient(180deg, var(--bar-brown), #6a5a4a);
    border: 1px solid #888; color: var(--text-white);
    font-family: var(--pixel-font); font-size: 7px; padding: 3px 10px; cursor: pointer; transition: all 0.15s;
  }

  .pub-card-btn:hover { background: linear-gradient(180deg, #9b8365, #7a6a5a); color: var(--text-yellow); }

  .pub-card.coming-soon .pub-card-preview { background: #f5f0e0; display: flex; align-items: center; justify-content: center; }
  .pub-card.coming-soon .pub-card-preview canvas { background: #f5f0e0; }

  .coming-soon-text {
    position: absolute; bottom: 10px; left: 0; right: 0; text-align: center;
    font-size: 9px; color: #888; font-family: var(--pixel-font); font-style: italic;
  }

  /* === RESUME PAGE === */
  .resume-container { padding: 20px; max-height: 520px; overflow-y: auto; }
  .resume-container::-webkit-scrollbar { width: 10px; }
  .resume-container::-webkit-scrollbar-track { background: #3a3a3a; border: 1px solid #555; }
  .resume-container::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #8b7355, #6a5a4a); border: 1px solid #555; }
  .resume-container { scrollbar-width: thin; scrollbar-color: #8b7355 #3a3a3a; }

  .resume-header-bar {
    background: linear-gradient(180deg, #7a6a5a, #5a4a3a);
    padding: 12px 16px; border: 1px solid #666; margin-bottom: 16px;
    display: flex; justify-content: space-between; align-items: center;
  }

  .resume-name { font-size: 14px; color: var(--text-white); }
  .resume-title-sub { font-size: 8px; color: var(--text-cyan); margin-top: 2px; }

  .resume-download {
    background: linear-gradient(180deg, var(--bar-brown), #6a5a4a);
    border: 1px solid #888; color: var(--text-white);
    font-family: var(--pixel-font); font-size: 8px; padding: 6px 14px;
    cursor: pointer; text-decoration: none; transition: all 0.15s;
  }

  .resume-download:hover { color: var(--text-yellow); }
  .resume-section { margin-bottom: 18px; }

  .resume-section-title {
    font-size: 10px; color: var(--text-yellow); border-bottom: 1px solid #555;
    padding-bottom: 6px; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;
  }

  .resume-section-icon {
    width: 16px; height: 16px; background: var(--bar-brown);
    display: inline-flex; align-items: center; justify-content: center; font-size: 10px;
  }

  .resume-item {
    background: var(--card-bg); border: 1px solid #555;
    padding: 10px 14px; margin-bottom: 8px; display: flex; gap: 12px;
  }

  .resume-item-dot { width: 8px; height: 8px; background: var(--text-cyan); margin-top: 3px; flex-shrink: 0; }
  .resume-item-content { flex: 1; }
  .resume-item-role { font-size: 9px; color: var(--text-white); margin-bottom: 2px; }
  .resume-item-org { font-size: 8px; color: var(--text-cyan); margin-bottom: 2px; }
  .resume-item-date { font-size: 7px; color: #888; margin-bottom: 4px; }
  .resume-item-desc { font-size: 7px; color: #aaa; line-height: 1.6; }

  .resume-skills-grid { display: flex; flex-wrap: wrap; gap: 4px; }

  .resume-skill-tag {
    background: #505050; border: 1px solid #666; color: var(--text-cyan);
    font-size: 7px; padding: 4px 8px; font-family: var(--pixel-font);
  }

  /* === CONTACT PAGE === */
  .contact-container { display: flex; min-height: 420px; }

  .contact-left { flex: 1; padding: 20px; }

  .contact-right {
    width: 300px; background: #3a3a3a; border-left: 2px solid #555;
    padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center;
  }

  .contact-right canvas { image-rendering: pixelated; margin-bottom: 14px; }
  .contact-heading { font-size: 14px; color: var(--text-yellow); margin-bottom: 6px; }
  .contact-sub { font-size: 8px; color: #bbb; line-height: 1.8; margin-bottom: 18px; }

  .contact-item {
    background: var(--card-bg); border: 1px solid #555; padding: 12px 14px;
    margin-bottom: 8px; display: flex; align-items: center; gap: 12px;
    transition: all 0.15s; text-decoration: none; cursor: pointer;
  }

  .contact-item:hover { border-color: var(--text-cyan); background: #444; }

  .contact-item-icon {
    width: 28px; height: 28px; background: var(--bar-brown);
    display: flex; align-items: center; justify-content: center; font-size: 14px; flex-shrink: 0;
  }

  .contact-item-label { font-size: 8px; color: var(--text-gray); }
  .contact-item-value { font-size: 9px; color: var(--text-white); margin-top: 2px; word-break: break-all; }

  .contact-note { font-size: 8px; color: var(--text-cyan); text-align: center; line-height: 1.6; margin-top: 10px; }

  /* === FOOTER === */
  .footer {
    background: #333; border-top: 1px solid #555; padding: 8px 20px;
    display: flex; justify-content: space-between; align-items: center;
  }

  .footer-text { font-size: 8px; color: #888; font-family: var(--pixel-font); }
  .footer-logo { font-size: 10px; color: #666; font-family: var(--pixel-font); font-weight: bold; }

  canvas { image-rendering: pixelated; image-rendering: -moz-crisp-edges; image-rendering: crisp-edges; }
</style>
</head>
<body>

<div class="page-wrapper">
  <!-- HEADER -->
  <div class="header">
    <div class="header-top">
      <div><a class="logo" onclick="navigateTo('about')">macrocity</a></div>
      <div class="speech-bubble-area">
        <div class="speech-bubble" id="speechBubble">in pixel<br>we trust</div>
        <canvas id="mainCharacter" width="32" height="48" class="pixel-character"></canvas>
      </div>
      <div class="tagline-area">
        <div class="tagline">in pixel we trust</div>
        <canvas id="serverIcon" width="40" height="50" class="server-icon"></canvas>
      </div>
    </div>
  </div>

  <!-- NAV -->
  <div class="nav">
    <a href="#about" class="nav-link active" data-page="about">about</a>
    <a href="#publications" class="nav-link" data-page="publications">publications</a>
    <a href="#resume" class="nav-link" data-page="resume">resume</a>
    <a href="#contact" class="nav-link" data-page="contact">contact</a>
    <div class="nav-spacer"></div>
  </div>

  <!-- ====== ABOUT PAGE ====== -->
  <div class="page active" id="page-about">
    <div class="about-interview-bar">
      <div class="about-interview-avatar"><canvas id="avatarCanvas" width="50" height="42"></canvas></div>
      <div class="about-interview-label">
        <span class="label-top">about</span>
        <span class="label-name">Farzad Salarifar</span>
      </div>
      <div class="about-interview-icon">✎</div>
      <div class="about-interview-right">
        <div class="about-interview-right-dots">
          <span></span><span></span><span></span><span></span><span></span>
          <span></span><span></span><span></span><span></span><span></span>
        </div>
      </div>
    </div>

    <div class="about-main-content">
      <div class="building-scene"><canvas id="buildingCanvas" width="520" height="600"></canvas></div>
      <div class="about-text-section">
        <div class="about-greeting">hello, world!</div>
        <div class="about-bio">
          I'm <span class="hl-w">Farzad Salarifar</span>, a first-year
          <span class="hl">PhD student</span> at <span class="hl-y">Aalto University</span>
          in the Department of Computer Science.<br><br>
          I'm working on the EU-funded <span class="hl">Geo-R2LLM</span> project,
          focused on developing knowledgeable and interpretable
          <span class="hl-w">multimodal geographic large language models</span>.<br><br>
          My research spans <span class="hl">navigation systems</span>,
          <span class="hl">spatial reasoning</span>,
          <span class="hl">multi-agent architectures</span>, and
          <span class="hl">LLM-based evaluation frameworks</span>.<br><br>
          Before diving into AI, I studied <span class="hl-y">Chemical and Process Engineering</span>
          at the University of Padova, where my thesis focused on ionic reaction modeling
          for mineral carbonation in the cement industry.<br><br>
          I enjoy building things at the intersection of language, space, and intelligence.
        </div>
        <div style="margin-bottom: 10px;">
          <span class="about-tag">NLP</span>
          <span class="about-tag">Spatial Reasoning</span>
          <span class="about-tag">Multi-Agent Systems</span>
          <span class="about-tag">Navigation</span>
          <span class="about-tag">Knowledge Graphs</span>
          <span class="about-tag">LLM Evaluation</span>
        </div>
        <div class="about-links">
          <a class="about-link-btn" href="https://scholar.google.com" target="_blank">Google Scholar</a>
          <a class="about-link-btn" href="https://github.com" target="_blank">GitHub</a>
          <a class="about-link-btn" href="https://linkedin.com" target="_blank">LinkedIn</a>
        </div>
      </div>
    </div>

    <div class="street-scene"><canvas id="streetCanvas" width="1560" height="440"></canvas></div>
    <div class="bottom-text">
      red light. waiting. no cars? click on the road to spawn pixel cars!
    </div>
  </div>

  <!-- ====== PUBLICATIONS PAGE ====== -->
  <div class="page" id="page-publications">
    <div class="pub-container">
      <div class="pub-sidebar">
        <div class="pub-sidebar-title">Instructions</div>
        <div class="pub-sidebar-text">
          Browse research publications from the grid on the right.<br><br>
          Use the filters below to narrow by topic or status. Click "READ" to open a paper.
        </div>
        <div class="pub-filter-label">Filter by topic:</div>
        <button class="pub-filter-btn active" onclick="filterPubs('all', this)">All</button>
        <button class="pub-filter-btn" onclick="filterPubs('navigation', this)">Navigation</button>
        <button class="pub-filter-btn" onclick="filterPubs('agents', this)">Multi-Agent</button>
        <button class="pub-filter-btn" onclick="filterPubs('kg', this)">Knowledge Graphs</button>
        <button class="pub-filter-btn" onclick="filterPubs('evaluation', this)">Evaluation</button>
        <div class="pub-stats">
          <div class="pub-stat-item"><span>Papers:</span><span class="val">5</span></div>
          <div class="pub-stat-item"><span>Accepted:</span><span class="val">2</span></div>
          <div class="pub-stat-item"><span>Under Review:</span><span class="val">2</span></div>
          <div class="pub-stat-item"><span>In Progress:</span><span class="val">1</span></div>
        </div>
      </div>
      <div class="pub-grid-area">
        <div class="pub-grid-header">
          <div class="pub-grid-title">PUBLICATIONS:</div>
          <div class="pub-grid-tabs">
            <button class="pub-grid-tab active" onclick="sortPubs('recent', this)">recent</button>
            <button class="pub-grid-tab" onclick="sortPubs('venue', this)">venue</button>
          </div>
        </div>
        <div class="pub-grid" id="pubGrid"></div>
      </div>
    </div>
  </div>

  <!-- ====== RESUME PAGE ====== -->
  <div class="page" id="page-resume">
    <div class="resume-container">
      <div class="resume-header-bar">
        <div>
          <div class="resume-name">Farzad Salarifar</div>
          <div class="resume-title-sub">PhD Student · Aalto University · Computer Science</div>
        </div>
        <a class="resume-download" href="#">Download PDF</a>
      </div>
      <div class="resume-section">
        <div class="resume-section-title"><span class="resume-section-icon">+</span> Education</div>
        <div class="resume-item">
          <div class="resume-item-dot"></div>
          <div class="resume-item-content">
            <div class="resume-item-role">PhD in Computer Science</div>
            <div class="resume-item-org">Aalto University, Finland</div>
            <div class="resume-item-date">2024 - present</div>
            <div class="resume-item-desc">EU-funded Geo-R2LLM project. Research on multimodal geographic LLMs, spatial reasoning, and navigation systems.</div>
          </div>
        </div>
        <div class="resume-item">
          <div class="resume-item-dot"></div>
          <div class="resume-item-content">
            <div class="resume-item-role">M.Sc. Chemical and Process Engineering</div>
            <div class="resume-item-org">University of Padova, Italy</div>
            <div class="resume-item-date">2020 - 2023 · GPA: 4.63</div>
            <div class="resume-item-desc">Thesis on ionic reaction modeling for mineral carbonation in the cement industry.</div>
          </div>
        </div>
      </div>
      <div class="resume-section">
        <div class="resume-section-title"><span class="resume-section-icon">></span> Experience</div>
        <div class="resume-item">
          <div class="resume-item-dot"></div>
          <div class="resume-item-content">
            <div class="resume-item-role">Doctoral Researcher</div>
            <div class="resume-item-org">Aalto University - Geo-R2LLM Consortium</div>
            <div class="resume-item-date">2024 - present</div>
            <div class="resume-item-desc">Developing GROKE framework for vision-free navigation instruction evaluation. Building multi-agent architectures for genomic QA. Fine-tuning embedding models with contrastive learning.</div>
          </div>
        </div>
        <div class="resume-item">
          <div class="resume-item-dot"></div>
          <div class="resume-item-content">
            <div class="resume-item-role">Junior Process Engineer</div>
            <div class="resume-item-org">Khales Sazan Industries</div>
            <div class="resume-item-date">2019 - 2020</div>
            <div class="resume-item-desc">Process simulation with Aspen Plus, COMSOL, and Ansys Fluent. Sustainable chemical process optimization.</div>
          </div>
        </div>
      </div>
      <div class="resume-section">
        <div class="resume-section-title"><span class="resume-section-icon">#</span> Skills</div>
        <div class="resume-skills-grid">
          <span class="resume-skill-tag">Python</span>
          <span class="resume-skill-tag">PyTorch</span>
          <span class="resume-skill-tag">HuggingFace</span>
          <span class="resume-skill-tag">LLMs</span>
          <span class="resume-skill-tag">NLP</span>
          <span class="resume-skill-tag">Multi-Agent Systems</span>
          <span class="resume-skill-tag">Knowledge Graphs</span>
          <span class="resume-skill-tag">Spatial Reasoning</span>
          <span class="resume-skill-tag">Contrastive Learning</span>
          <span class="resume-skill-tag">OpenStreetMap</span>
          <span class="resume-skill-tag">MATLAB</span>
          <span class="resume-skill-tag">Aspen Plus</span>
          <span class="resume-skill-tag">COMSOL</span>
          <span class="resume-skill-tag">LaTeX</span>
          <span class="resume-skill-tag">Git</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ====== CONTACT PAGE ====== -->
  <div class="page" id="page-contact">
    <div class="contact-container">
      <div class="contact-left">
        <div class="contact-heading">Get in touch</div>
        <div class="contact-sub">
          I'm always open to research collaborations, discussions about spatial AI, or just a friendly hello.
        </div>
        <a class="contact-item" href="mailto:farzad.salarifar@aalto.fi">
          <div class="contact-item-icon">@</div>
          <div><div class="contact-item-label">Email</div><div class="contact-item-value">farzad.salarifar@aalto.fi</div></div>
        </a>
        <a class="contact-item" href="https://github.com" target="_blank">
          <div class="contact-item-icon">&lt;/&gt;</div>
          <div><div class="contact-item-label">GitHub</div><div class="contact-item-value">github.com/farzad</div></div>
        </a>
        <a class="contact-item" href="https://linkedin.com" target="_blank">
          <div class="contact-item-icon">in</div>
          <div><div class="contact-item-label">LinkedIn</div><div class="contact-item-value">linkedin.com/in/farzad-salarifar</div></div>
        </a>
        <a class="contact-item" href="https://scholar.google.com" target="_blank">
          <div class="contact-item-icon">G</div>
          <div><div class="contact-item-label">Google Scholar</div><div class="contact-item-value">Farzad Salarifar</div></div>
        </a>
        <div class="contact-item">
          <div class="contact-item-icon">*</div>
          <div><div class="contact-item-label">Location</div><div class="contact-item-value">Aalto University, Espoo, Finland</div></div>
        </div>
      </div>
      <div class="contact-right">
        <canvas id="contactPixelArt" width="180" height="200"></canvas>
        <div class="contact-note">"in pixel we trust"<br><br>Built with canvas pixels<br>and lots of coffee</div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <div class="footer">
    <span class="footer-text">© design + content macrocity 2025. all rights reserved.</span>
    <span class="footer-logo">TLC</span>
  </div>
</div>

<script>
// ===== PUBLICATIONS DATA =====
const publications = [
  { id:1, title:"GROKE: A Vision-Free Navigation Instruction Evaluation Framework", venue:"ACL ARR 2026", year:2026, status:"review", tags:["navigation","evaluation"], colors:{bg:'#2a5a2a',building:'#3a7a3a',accent:'#88cc88'} },
  { id:2, title:"GenomAgent: Multi-Agent Framework for Genomic Question Answering", venue:"ACL ARR 2026", year:2026, status:"review", tags:["agents"], colors:{bg:'#2a2a5a',building:'#3a3a7a',accent:'#8888cc'} },
  { id:3, title:"Knowledge Graph Validation with LLM-Based Approaches", venue:"EDBT'26", year:2026, status:"accepted", tags:["kg"], colors:{bg:'#5a2a2a',building:'#7a3a3a',accent:'#cc8888'} },
  { id:4, title:"Graph-to-Text Generation for Spatial Data Representation", venue:"ECIR 2026", year:2026, status:"accepted", tags:["navigation","kg"], colors:{bg:'#5a5a2a',building:'#7a7a3a',accent:'#cccc88'} },
  { id:5, title:"Contrastive Learning for Navigation Embedding Models", venue:"In Progress", year:2025, status:"preprint", tags:["navigation","evaluation"], colors:{bg:'#3a3a3a',building:'#555',accent:'#999'} },
  { id:6, title:null, venue:null, year:null, status:"coming", tags:[], colors:{} }
];

// ===== PIXEL ART UTILITIES =====
function drawRect(ctx,x,y,w,h,color,s=1){ctx.fillStyle=color;ctx.fillRect(x*s,y*s,w*s,h*s);}
function drawPixel(ctx,x,y,color,s=2){ctx.fillStyle=color;ctx.fillRect(x*s,y*s,s,s);}

// ===== PUB CARD ART =====
function drawPubCardArt(canvas, pub) {
  const ctx = canvas.getContext('2d');
  ctx.imageSmoothingEnabled = false;
  const w = canvas.width, h = canvas.height;

  if (pub.status === 'coming') {
    ctx.fillStyle = '#f0ead8'; ctx.fillRect(0,0,w,h);
    ctx.strokeStyle = '#ddd'; ctx.lineWidth = 0.5;
    for (let i=0;i<h;i+=12){ctx.beginPath();ctx.moveTo(0,i);ctx.lineTo(w,i);ctx.stroke();}
    ctx.strokeStyle = '#999'; ctx.lineWidth = 1.5; ctx.setLineDash([4,3]);
    ctx.strokeRect(30,40,40,60); ctx.strokeRect(80,30,50,70); ctx.strokeRect(50,55,30,45);
    ctx.setLineDash([]); ctx.fillStyle = '#aaa';
    ctx.font = 'italic 18px "Silkscreen", monospace'; ctx.fillText('?', 95, 65);
    ctx.beginPath(); ctx.arc(140,50,12,0,Math.PI*2); ctx.stroke();
    return;
  }

  const {bg, building: bld, accent: acc} = pub.colors;
  ctx.fillStyle = bg; ctx.fillRect(0,0,w,h);

  // Stars
  for(let i=0;i<15;i++){
    ctx.fillStyle = acc+'44';
    const sx=Math.sin(pub.id*100+i*73)*w/2+w/2, sy=Math.sin(pub.id*200+i*47)*h/3+h/4;
    ctx.fillRect(sx,sy,2,2);
  }

  // Ground
  ctx.fillStyle = bld+'88'; ctx.fillRect(0,h*0.7,w,h*0.3);

  // Buildings
  const seed = pub.id;
  for(let b=0;b<2+(seed%3);b++){
    const bx=15+b*(w/(2+(seed%3))), bw=30+(seed*(b+1)*7)%40, bh=40+(seed*(b+1)*13)%50, by=h*0.7-bh;
    ctx.fillStyle=bld; ctx.fillRect(bx,by,bw,bh);
    ctx.fillStyle=acc+'66';
    ctx.beginPath();ctx.moveTo(bx,by);ctx.lineTo(bx+10,by-8);ctx.lineTo(bx+bw+10,by-8);ctx.lineTo(bx+bw,by);ctx.fill();
    ctx.fillStyle=bld+'aa'; ctx.fillRect(bx+bw,by,10,bh);
    const rows=Math.floor(bh/16), cols=Math.floor(bw/14);
    for(let r=0;r<rows;r++) for(let c=0;c<cols;c++){
      ctx.fillStyle=((seed+r+c)%3)?acc:bld+'cc';
      ctx.fillRect(bx+4+c*14,by+6+r*16,8,10);
    }
  }

  // Road
  ctx.fillStyle='#333'; ctx.fillRect(0,h-14,w,14);
  ctx.fillStyle='#aa8'; for(let i=0;i<w;i+=20)ctx.fillRect(i+4,h-8,10,2);
}

// ===== RENDER PUB CARDS =====
function renderPubCards(filter='all'){
  const grid=document.getElementById('pubGrid'); grid.innerHTML='';
  const filtered = filter==='all' ? publications : publications.filter(p=>p.tags.includes(filter)||p.status==='coming');
  filtered.forEach(pub=>{
    const card=document.createElement('div');
    card.className='pub-card'+(pub.status==='coming'?' coming-soon':'');
    if(pub.status==='coming'){
      card.innerHTML=`<div class="pub-card-preview"><canvas width="260" height="120"></canvas><div class="coming-soon-text">coming next ?</div></div><div class="pub-card-info"><div class="pub-card-title" style="color:#888;font-style:italic;">Work in progress...</div><div class="pub-card-footer"><span class="pub-card-year">2025+</span><button class="pub-card-btn" disabled style="opacity:0.4">TBD</button></div></div>`;
    } else {
      const bc=pub.status==='accepted'?'accepted':pub.status==='review'?'review':'preprint';
      const bt=pub.status==='accepted'?'ACCEPTED':pub.status==='review'?'UNDER REVIEW':'IN PROGRESS';
      card.innerHTML=`<div class="pub-card-preview"><canvas width="260" height="120"></canvas><div class="pub-card-badge ${bc}">${bt}</div></div><div class="pub-card-info"><div class="pub-card-title">${pub.title}</div><div class="pub-card-venue">${pub.venue}</div><div class="pub-card-footer"><span class="pub-card-year">${pub.year}</span><button class="pub-card-btn" onclick="event.stopPropagation()">READ</button></div></div>`;
    }
    grid.appendChild(card);
    const canvas=card.querySelector('canvas');
    requestAnimationFrame(()=>drawPubCardArt(canvas,pub));
  });
}

function filterPubs(tag,btn){
  document.querySelectorAll('.pub-filter-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  renderPubCards(tag);
}

function sortPubs(mode,btn){
  document.querySelectorAll('.pub-grid-tab').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  if(mode==='venue') publications.sort((a,b)=>(a.venue||'ZZZ').localeCompare(b.venue||'ZZZ'));
  else publications.sort((a,b)=>(b.year||0)-(a.year||0));
  renderPubCards();
}

// ===== NAVIGATION =====
function navigateTo(page){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-link').forEach(a=>a.classList.remove('active'));
  document.getElementById('page-'+page).classList.add('active');
  document.querySelector(`.nav-link[data-page="${page}"]`).classList.add('active');
  window.location.hash=page;
  const bubbles={about:'in pixel<br>we trust',publications:'read my<br>papers!',resume:'hire me<br>maybe?',contact:'say<br>hello!'};
  document.getElementById('speechBubble').innerHTML=bubbles[page]||'in pixel<br>we trust';
  if(page==='publications') renderPubCards();
  if(page==='contact') setTimeout(drawContactArt,50);
}

window.addEventListener('hashchange',()=>navigateTo(window.location.hash.replace('#','')||'about'));
document.querySelectorAll('.nav-link').forEach(link=>{
  link.addEventListener('click',e=>{e.preventDefault();navigateTo(link.dataset.page);});
});

// ===== PIXEL ART DRAWING =====
function drawMainCharacter(){
  const c=document.getElementById('mainCharacter'),ctx=c.getContext('2d');ctx.imageSmoothingEnabled=false;const s=2;
  drawRect(ctx,6,0,5,2,'#5a3a1a',s);drawRect(ctx,5,2,7,5,'#d4a574',s);
  drawPixel(ctx,7,4,'#222',s);drawPixel(ctx,10,4,'#222',s);drawRect(ctx,8,6,2,1,'#a06040',s);
  drawRect(ctx,5,7,7,8,'#6a5a4a',s);drawRect(ctx,8,7,1,6,'#c0392b',s);
  drawRect(ctx,3,8,2,6,'#6a5a4a',s);drawRect(ctx,12,8,2,6,'#6a5a4a',s);
  drawRect(ctx,3,14,2,1,'#d4a574',s);drawRect(ctx,12,14,2,1,'#d4a574',s);
  drawRect(ctx,5,15,3,5,'#333',s);drawRect(ctx,9,15,3,5,'#333',s);
  drawRect(ctx,4,20,4,2,'#222',s);drawRect(ctx,9,20,4,2,'#222',s);
}

function drawServerIcon(){
  const c=document.getElementById('serverIcon'),ctx=c.getContext('2d');ctx.imageSmoothingEnabled=false;const s=2;
  drawRect(ctx,5,2,10,20,'#ccc',s);drawRect(ctx,6,3,8,4,'#999',s);drawRect(ctx,6,8,8,4,'#999',s);drawRect(ctx,6,13,8,4,'#999',s);
  drawRect(ctx,15,2,5,20,'#aaa',s);drawPixel(ctx,13,5,'#0f0',s);drawPixel(ctx,13,10,'#0f0',s);drawPixel(ctx,13,15,'#f00',s);
  for(let i=0;i<3;i++)drawRect(ctx,7,4+i*5,5,1,'#777',s);
}

function drawAvatar(){
  const c=document.getElementById('avatarCanvas'),ctx=c.getContext('2d');ctx.imageSmoothingEnabled=false;
  ctx.fillStyle='#8b6050';ctx.fillRect(0,0,50,42);
  ctx.fillStyle='#3a2010';ctx.fillRect(8,2,34,12);ctx.fillStyle='#d4a574';ctx.fillRect(12,8,26,24);
  ctx.fillStyle='#333';ctx.fillRect(14,16,10,6);ctx.fillRect(26,16,10,6);ctx.fillRect(24,18,2,2);
  ctx.fillStyle='#6688aa';ctx.fillRect(16,18,6,3);ctx.fillRect(28,18,6,3);
  ctx.fillStyle='#c09060';ctx.fillRect(23,22,4,4);ctx.fillStyle='#a06040';ctx.fillRect(20,28,10,2);
  ctx.fillStyle='#d4a574';ctx.fillRect(8,16,4,8);ctx.fillRect(38,16,4,8);
}

function drawBuildingScene(){
  const c=document.getElementById('buildingCanvas'),ctx=c.getContext('2d');ctx.imageSmoothingEnabled=false;
  ctx.fillStyle='#4a4a4a';ctx.fillRect(0,0,c.width,c.height);
  ctx.fillStyle='#b8a898';ctx.fillRect(20,40,240,340);ctx.fillStyle='#a09080';ctx.fillRect(260,40,180,340);
  ctx.fillStyle='#c0b0a0';ctx.beginPath();ctx.moveTo(20,40);ctx.lineTo(140,0);ctx.lineTo(440,0);ctx.lineTo(440,40);ctx.fill();
  ctx.fillStyle='#d0c0b0';ctx.beginPath();ctx.moveTo(140,0);ctx.lineTo(260,40);ctx.lineTo(440,40);ctx.lineTo(440,0);ctx.fill();
  ctx.fillStyle='#2244aa';ctx.fillRect(40,70,200,80);ctx.fillStyle='#3355cc';ctx.fillRect(42,72,196,76);
  ctx.fillStyle='#fff';ctx.font='bold 22px "Silkscreen",monospace';ctx.fillText('MAC',60,102);
  ctx.font='bold 18px "Silkscreen",monospace';ctx.fillText('PARKING',56,126);
  ctx.fillStyle='#2244aa';ctx.fillRect(60,160,80,60);ctx.fillStyle='#3355cc';ctx.fillRect(62,162,76,56);
  ctx.fillStyle='#fff';ctx.font='bold 36px "Silkscreen",monospace';ctx.fillText('P5',72,204);
  for(let r=0;r<3;r++)for(let c2=0;c2<2;c2++){const wx=170+c2*42,wy=160+r*55;
    ctx.fillStyle='#667';ctx.fillRect(wx,wy,32,40);ctx.fillStyle='#557';ctx.fillRect(wx+2,wy+2,28,36);
    ctx.fillStyle='#889';ctx.fillRect(wx+14,wy,4,40);ctx.fillRect(wx,wy+18,32,4);}
  for(let r=0;r<3;r++)for(let c2=0;c2<3;c2++){const wx=280+c2*52,wy=60+r*55;
    ctx.fillStyle='#667';ctx.fillRect(wx,wy,36,40);ctx.fillStyle='#557';ctx.fillRect(wx+2,wy+2,32,36);
    ctx.fillStyle='#889';ctx.fillRect(wx+16,wy,4,40);ctx.fillRect(wx,wy+18,36,4);}
  ctx.fillStyle='#555';ctx.fillRect(40,310,80,70);ctx.fillStyle='#444';for(let i=0;i<7;i++)ctx.fillRect(42,312+i*10,76,1);
  ctx.fillStyle='#555';ctx.fillRect(140,310,80,70);ctx.fillStyle='#444';for(let i=0;i<7;i++)ctx.fillRect(142,312+i*10,76,1);
  ctx.fillStyle='#555';ctx.fillRect(310,280,50,100);ctx.fillStyle='#777';ctx.fillRect(242,350,14,20);
  ctx.fillStyle='#888';ctx.fillRect(240,348,18,4);ctx.fillStyle='#808080';ctx.fillRect(0,380,520,40);
  ctx.fillStyle='#666';ctx.fillRect(0,418,520,6);
  ctx.fillStyle='#aa3333';ctx.fillRect(280,5,120,30);ctx.fillStyle='#cc4444';ctx.fillRect(282,7,116,26);
  ctx.fillStyle='#fff';ctx.font='14px "Silkscreen",monospace';ctx.fillText('BAR',318,26);
  ctx.fillStyle='#999';ctx.fillRect(235,40,4,340);ctx.fillStyle='#666';ctx.fillRect(480,300,4,82);
  ctx.fillStyle='#888';ctx.fillRect(472,296,20,8);
}

function drawStreetScene(){
  const c=document.getElementById('streetCanvas'),ctx=c.getContext('2d');ctx.imageSmoothingEnabled=false;
  ctx.fillStyle='#4a4a4a';ctx.fillRect(0,0,c.width,c.height);
  ctx.fillStyle='#707070';ctx.fillRect(40,20,300,160);ctx.fillStyle='#686868';ctx.fillRect(340,20,200,160);
  for(let r=0;r<3;r++)for(let c2=0;c2<6;c2++){ctx.fillStyle=(r===0&&c2===2)?'#aab8cc':'#5a5a6a';ctx.fillRect(60+c2*46,35+r*48,30,35);}
  ctx.fillStyle='#656565';ctx.fillRect(560,20,260,160);
  for(let r=0;r<3;r++)for(let c2=0;c2<4;c2++){ctx.fillStyle='#5a5a6a';ctx.fillRect(580+c2*56,35+r*48,36,35);}
  ctx.fillStyle='#808080';ctx.fillRect(0,170,1560,30);ctx.fillStyle='#505050';ctx.fillRect(0,200,1560,240);
  ctx.fillStyle='#c8b860';
  for(let i=0;i<8;i++){ctx.save();ctx.translate(700+i*40,210);ctx.transform(1,0.5,0,1,0,0);ctx.fillRect(0,0,20,160);ctx.restore();}
  for(let i=0;i<6;i++){ctx.save();ctx.translate(1000,220+i*30);ctx.transform(1,0,0.5,1,0,0);ctx.fillRect(0,0,200,14);ctx.restore();}
  ctx.fillStyle='#c8b860';for(let i=0;i<12;i++)ctx.fillRect(i*80+20,310,50,4);
  drawArrow(ctx,860,280);drawArrow(ctx,1100,340);
  ctx.fillStyle='#555';ctx.fillRect(650,50,6,155);ctx.fillStyle='#666';ctx.fillRect(636,46,34,8);
  ctx.fillStyle='#884444';ctx.fillRect(645,38,8,10);ctx.fillStyle='#cc3333';ctx.fillRect(647,40,4,4);
  drawStreetCharacter(ctx,660,135);ctx.fillStyle='#707070';ctx.fillRect(0,196,1560,6);
}

function drawArrow(ctx,x,y){ctx.fillStyle='#c8b860';ctx.fillRect(x,y,8,40);ctx.beginPath();ctx.moveTo(x-12,y);ctx.lineTo(x+4,y-20);ctx.lineTo(x+20,y);ctx.fill();}

function drawStreetCharacter(ctx,x,y){
  const s=3;ctx.fillStyle='#d4a574';ctx.fillRect(x,y,4*s,4*s);ctx.fillStyle='#5a3a1a';ctx.fillRect(x,y,4*s,1.5*s);
  ctx.fillStyle='#222';ctx.fillRect(x+1*s,y+2*s,s,s);ctx.fillRect(x+2.5*s,y+2*s,s,s);
  ctx.fillStyle='#4466aa';ctx.fillRect(x-0.5*s,y+4*s,5*s,5*s);ctx.fillStyle='#333';ctx.fillRect(x,y+9*s,2*s,3*s);ctx.fillRect(x+2.5*s,y+9*s,2*s,3*s);
  ctx.fillStyle='#222';ctx.fillRect(x-0.5*s,y+12*s,2.5*s,s);ctx.fillRect(x+2.5*s,y+12*s,2.5*s,s);
}

function drawContactArt(){
  const c=document.getElementById('contactPixelArt');if(!c)return;
  const ctx=c.getContext('2d');ctx.imageSmoothingEnabled=false;
  ctx.fillStyle='#3a3a3a';ctx.fillRect(0,0,180,200);
  ctx.fillStyle='#8b7355';ctx.fillRect(30,110,120,10);ctx.fillStyle='#7a6245';ctx.fillRect(40,120,10,50);ctx.fillRect(130,120,10,50);
  ctx.fillStyle='#555';ctx.fillRect(55,60,70,52);ctx.fillStyle='#333';ctx.fillRect(58,63,64,46);
  ctx.fillStyle='#2a4a2a';ctx.fillRect(60,65,60,42);ctx.fillStyle='#7ec8e3';ctx.font='8px "Silkscreen",monospace';
  ctx.fillText('> hello',64,78);ctx.fillText('> world',64,90);ctx.fillStyle='#88cc88';ctx.fillText('> _',64,102);
  ctx.fillStyle='#555';ctx.fillRect(82,112,16,6);ctx.fillStyle='#666';ctx.fillRect(60,122,60,8);
  ctx.fillStyle='#777';for(let i=0;i<8;i++)ctx.fillRect(63+i*7,124,5,4);
  ctx.fillStyle='#aaa';ctx.fillRect(140,100,14,14);ctx.fillStyle='#6a3a1a';ctx.fillRect(142,98,10,4);
  ctx.fillStyle='#88888844';ctx.fillRect(145,90,2,6);ctx.fillRect(149,88,2,6);
  ctx.fillStyle='#5a3a1a';ctx.fillRect(20,100,12,14);ctx.fillStyle='#3a8a3a';ctx.fillRect(22,88,8,14);
  ctx.fillStyle='#4a9a4a';ctx.fillRect(18,82,6,10);ctx.fillRect(28,80,6,12);
  ctx.fillStyle='#ddd';ctx.fillRect(62,145,56,36);ctx.fillStyle='#bbb';
  ctx.beginPath();ctx.moveTo(62,145);ctx.lineTo(90,165);ctx.lineTo(118,145);ctx.fill();
  ctx.fillStyle='#c0392b';ctx.fillRect(85,155,10,3);
}

// Street car spawner
function drawPixelCar(ctx,x,y){
  const colors=['#cc3333','#3366cc','#33aa55','#ccaa33','#cc6633'];
  const color=colors[Math.floor(Math.random()*colors.length)];
  ctx.fillStyle=color;ctx.fillRect(x,y,80,24);ctx.fillRect(x+16,y-14,44,16);
  ctx.fillStyle='#aaccee';ctx.fillRect(x+20,y-12,16,12);ctx.fillRect(x+40,y-12,16,12);
  ctx.fillStyle='#222';ctx.fillRect(x+8,y+22,16,8);ctx.fillRect(x+56,y+22,16,8);
  ctx.fillStyle='#888';ctx.fillRect(x+12,y+24,8,4);ctx.fillRect(x+60,y+24,8,4);
  ctx.fillStyle='#ffee88';ctx.fillRect(x+76,y+4,6,6);ctx.fillStyle='#ff3333';ctx.fillRect(x-2,y+4,4,6);
}

// ===== INIT =====
window.addEventListener('DOMContentLoaded',()=>{
  drawMainCharacter();drawServerIcon();drawAvatar();drawBuildingScene();drawStreetScene();

  // Traffic light blink
  const sc=document.getElementById('streetCanvas'),sctx=sc.getContext('2d');
  let ls=true;setInterval(()=>{ls=!ls;sctx.fillStyle=ls?'#ff3333':'#883333';sctx.fillRect(647,40,4,4);},1000);

  // Neon flicker
  const bc=document.getElementById('buildingCanvas'),bctx=bc.getContext('2d');
  setInterval(()=>{const f=Math.random()>0.1;bctx.fillStyle=f?'#3355cc':'#2a44bb';bctx.fillRect(42,72,196,76);
    bctx.fillStyle='#fff';bctx.font='bold 22px "Silkscreen",monospace';bctx.fillText('MAC',60,102);
    bctx.font='bold 18px "Silkscreen",monospace';bctx.fillText('PARKING',56,126);},3000);

  // Street click car spawn
  sc.addEventListener('click',e=>{const r=sc.getBoundingClientRect();
    const x=(e.clientX-r.left)*(sc.width/r.width),y=(e.clientY-r.top)*(sc.height/r.height);
    if(y>200&&y<420)drawPixelCar(sctx,x-40,y-15);});

  // Hash routing
  navigateTo(window.location.hash.replace('#','')||'about');
});
</script>

</body>
</html>
